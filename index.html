<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ascension Lutheran Church & School | Fort Wayne, IN</title>
    <meta name="description" content="Welcome to Ascension Evangelical Lutheran Church in Fort Wayne, Indiana. Join our family in worshipping and serving our glorious God.">
    <meta name="keywords" content="Lutheran Church, Fort Wayne, Christian Education, Family, Worship, Bible Study">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#8B0000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Ascension Lutheran">
    
    <!-- Social Media Meta Tags -->
    <meta property="og:title" content="Ascension Lutheran Church & School | Fort Wayne, IN">
    <meta property="og:description" content="Welcome to Ascension Evangelical Lutheran Church in Fort Wayne, Indiana. Join our family in worshipping and serving our glorious God.">
    <meta property="og:image" content="./images/church-exterior.jpg">
    <meta property="og:url" content="https://ghost081280.github.io/Ascension-Lutheran-Church-and-School/">
    <meta property="og:type" content="website">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon-16x16.png">
    <link rel="apple-touch-icon" href="./images/apple-touch-icon.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/components.css">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="./css/main.css" as="style">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="church-logo">
                <img src="./images/alc-logo.png" alt="Ascension Lutheran Church Logo" class="logo-img" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div style="display: none; width: 120px; height: 120px; background: rgba(255,255,255,0.2); border-radius: 50%; align-items: center; justify-content: center; font-size: 3rem; color: white; border: 3px solid rgba(255,255,255,0.3);">‚úö</div>
            </div>
            <h1 class="loading-title">Ascension Lutheran Church</h1>
            <p class="loading-subtitle">Fort Wayne, Indiana</p>
            <div class="loading-spinner">
                <div class="spinner"></div>
            </div>
            <p class="loading-verse">"I am the way, and the truth, and the life." - John 14:6</p>
        </div>
    </div>

    <!-- Main Application -->
    <div id="main-app" class="main-app hidden">
        <!-- Navigation Header -->
        <header class="main-header">
            <nav class="navbar">
                <div class="nav-container">
                    <div class="nav-brand">
                        <img src="./images/alc-logo.png" alt="ALC Logo" class="nav-logo"
                             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div style="display: none; width: 50px; height: 50px; background: var(--primary-color); border-radius: 50%; align-items: center; justify-content: center; color: white; font-size: 1.2rem;">‚úö</div>
                        <div class="brand-text">
                            <h1 class="brand-name">Ascension Lutheran</h1>
                            <p class="brand-subtitle">Church & School</p>
                        </div>
                    </div>
                    
                    <button class="mobile-menu-toggle" aria-label="Toggle navigation menu">
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                    </button>
                    
                    <div class="nav-menu">
                        <a href="#home" class="nav-link active" data-page="home">Home</a>
                        <a href="#church" class="nav-link" data-page="church">Church</a>
                        <a href="#family" class="nav-link" data-page="family">Family</a>
                        <a href="#school" class="nav-link" data-page="school">School</a>
                        <a href="#worship" class="nav-link" data-page="worship">Worship</a>
                        <a href="#contact" class="nav-link" data-page="contact">Contact</a>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Page Content Container -->
        <main id="page-container" class="page-container">
            <!-- Content will be loaded here dynamically -->
        </main>

        <!-- Footer -->
        <footer class="main-footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Contact Information</h3>
                    <p>8811 St. Joe Road<br>Fort Wayne, IN 46835</p>
                    <p>Phone: <a href="tel:+12604862226">(260) 486-2226</a></p>
                    <p>Email: <a href="mailto:office@alcsfw.org">office@alcsfw.org</a></p>
                </div>
                
                <div class="footer-section">
                    <h3>Worship Times</h3>
                    <p>Sunday Divine Worship:<br>8:00 AM & 10:45 AM</p>
                    <p>Sunday School & Adult Class:<br>9:30 AM</p>
                </div>
                
                <div class="footer-section">
                    <h3>Connect With Us</h3>
                    <div class="social-links">
                        <a href="https://www.facebook.com/alcsfw/" target="_blank" rel="noopener" class="social-link facebook">
                            <svg viewBox="0 0 24 24" width="20" height="20">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                            Facebook
                        </a>
                        <a href="https://www.youtube.com/channel/UC_CHANNEL_ID" target="_blank" rel="noopener" class="social-link youtube">
                            <svg viewBox="0 0 24 24" width="20" height="20">
                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                            </svg>
                            YouTube
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Ascension Lutheran Church and School. All rights reserved.</p>
                <p>Visit us at 8811 St. Joe Road, Fort Wayne, IN 46835</p>
            </div>
        </footer>
    </div>

    <!-- JavaScript Files -->
    <script src="./js/components.js"></script>
    <script src="./js/navigation.js"></script>
    <script src="./js/app.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        // Debug info
        console.log('üèõÔ∏è Ascension Lutheran Church PWA');
        console.log('üìç Location:', window.location.href);
        console.log('üìÅ Base path:', window.location.pathname);
        
        // Add some error handling for development
        window.addEventListener('error', (e) => {
            console.error('JavaScript Error:', e.error);
            console.error('Error details:', {
                message: e.message,
                filename: e.filename,
                lineno: e.lineno,
                colno: e.colno,
                stack: e.error ? e.error.stack : 'No stack trace'
            });
        });

        // Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }

        // Fallback content loader with immediate execution
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üèõÔ∏è DOM Content Loaded');
            
            // Force load content after a short delay if app doesn't initialize
            setTimeout(() => {
                const pageContainer = document.getElementById('page-container');
                const loadingScreen = document.getElementById('loading-screen');
                const mainApp = document.getElementById('main-app');
                
                console.log('üèõÔ∏è Checking app state:', {
                    hasApp: !!window.app,
                    pageContainer: !!pageContainer,
                    containerContent: pageContainer ? pageContainer.innerHTML.length : 0,
                    appHidden: mainApp ? mainApp.classList.contains('hidden') : 'no main app'
                });
                
                // Show main app if still hidden
                if (mainApp && mainApp.classList.contains('hidden')) {
                    console.log('üèõÔ∏è Showing main app');
                    if (loadingScreen) {
                        loadingScreen.style.display = 'none';
                    }
                    mainApp.classList.remove('hidden');
                    mainApp.style.opacity = '1';
                    mainApp.style.transform = 'translateY(0)';
                }
                
                // Force load content if empty
                if (pageContainer && (!pageContainer.innerHTML.trim() || pageContainer.innerHTML.length < 50)) {
                    console.log('üèõÔ∏è Force loading home content');
                    pageContainer.innerHTML = \`
                        <div class="page-content">
                            <section class="hero-section">
                                <div class="hero-content">
                                    <h1 class="hero-title">Welcome to Ascension Lutheran Church</h1>
                                    <p class="hero-subtitle">Join our family in worshipping and serving our glorious God in Fort Wayne, Indiana</p>
                                    <div class="hero-cta">
                                        <a href="#worship" class="btn btn-primary">Join Us for Worship</a>
                                        <a href="#church" class="btn btn-secondary">Learn More</a>
                                    </div>
                                </div>
                            </section>

                            <div class="container">
                                <section class="info-section">
                                    <div class="worship-times">
                                        <h3>Divine Worship</h3>
                                        <div class="time-item">
                                            <span class="time-label">Sunday Morning Services</span>
                                            <span class="time-value">8:00 AM & 10:45 AM</span>
                                        </div>
                                        <div class="time-item">
                                            <span class="time-label">Adult Discipleship Class</span>
                                            <span class="time-value">9:30 AM</span>
                                        </div>
                                        <div class="time-item">
                                            <span class="time-label">Children's Sunday School</span>
                                            <span class="time-value">9:30 AM</span>
                                        </div>
                                    </div>
                                </section>

                                <section class="info-section">
                                    <div class="section-header">
                                        <h2 class="section-title">Church ‚Ä¢ Family ‚Ä¢ School</h2>
                                        <p class="section-subtitle">At Ascension, new life finds its expression in a three-fold fellowship and ministry where you will encounter and know the Lord Jesus Christ for your forgiveness, life, and salvation!</p>
                                    </div>

                                    <div class="card-grid">
                                        <div class="card">
                                            <div style="width: 100%; height: 200px; background: linear-gradient(45deg, #8B0000, #A52A2A); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">‚õ™</div>
                                            <div class="card-content">
                                                <h3 class="card-title">Church</h3>
                                                <p class="card-text">Ascension follows the teaching of the Holy Scripture, firmly accepting the Bible as God's inerrant Word, teaching and confessing the truth proclaimed by God through His Son, Jesus Christ.</p>
                                            </div>
                                        </div>

                                        <div class="card">
                                            <div style="width: 100%; height: 200px; background: linear-gradient(45deg, #CD853F, #DAA520); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                                            <div class="card-content">
                                                <h3 class="card-title">Family</h3>
                                                <p class="card-text">Ascension is a place for families with many opportunities to study God's Word together. We offer programs for all ages to grow in faith.</p>
                                            </div>
                                        </div>

                                        <div class="card">
                                            <div style="width: 100%; height: 200px; background: linear-gradient(45deg, #8B0000, #660000); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">üéì</div>
                                            <div class="card-content">
                                                <h3 class="card-title">School</h3>
                                                <p class="card-text">Providing traditional, Christian education to students in Preschool through 8th grade with academic excellence within our Christ-centered Lutheran worldview.</p>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                <section class="info-section">
                                    <div class="section-header">
                                        <h2 class="section-title">Meet Our Pastor</h2>
                                    </div>
                                    
                                    <div class="card">
                                        <div class="card-content" style="display: flex; align-items: center; gap: 2rem; flex-wrap: wrap;">
                                            <div style="flex: 0 0 200px;">
                                                <img src="./images/Pastor.png?v=2025011401" alt="Rev. James Gier, Senior Pastor" 
                                                     style="width: 200px; height: 250px; object-fit: cover; border-radius: var(--radius-lg); box-shadow: var(--shadow-md);"
                                                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                                                <div style="display: none; width: 200px; height: 250px; background: linear-gradient(45deg, var(--primary-color), var(--primary-light)); border-radius: var(--radius-lg); align-items: center; justify-content: center; color: white; font-size: 3rem; box-shadow: var(--shadow-md);">üë®‚Äçüíº</div>
                                            </div>
                                            <div style="flex: 1; min-width: 300px;">
                                                <h3 style="color: var(--primary-color); margin-bottom: 0.5rem;">Rev. James Gier</h3>
                                                <p style="color: var(--secondary-color); font-weight: 600; margin-bottom: 1rem;">Senior Pastor</p>
                                                <p>Pastor Gier was installed as Ascension's third senior pastor in 2019. He was a licensed architect prior to entering the Holy Ministry and is a graduate of Concordia Theological Seminary in Fort Wayne.</p>
                                                <p>Pastor Gier brings a unique perspective to ministry, combining his architectural background with his theological training to help build both physical and spiritual communities at Ascension.</p>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                <section class="verse-display">
                                    <p class="verse-text">"And the third day, He rose again according to the Scriptures and ascended into heaven and sits at the right hand of the Father."</p>
                                    <p class="verse-reference">~ The Nicene Creed</p>
                                </section>

                                <section class="info-section">
                                    <p style="text-align: center; font-size: 1.2rem; line-height: 1.8; max-width: 800px; margin: 0 auto;">
                                        In the Gospel of St. John (14:6), Jesus said "I am the way, and the truth, and the life. No one comes to the Father except through me." Jesus is our way back to our Father in heaven. He is the Gospel (Good News) of God to the world. As Evangelical Lutherans, we are loyal to the Gospel of Christ, "for there is no other name under heaven given among men by which we must be saved" (Acts 4:12).
                                    </p>
                                </section>
                            </div>
                        </div>
                    \`;
                }
            }, 500); // Reduced to 500ms for faster loading
        });
    </script>
</body>
</html>
